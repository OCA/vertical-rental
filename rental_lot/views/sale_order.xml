<?xml version="1.0" encoding="UTF-8" ?>
<!-- Copyright (C) 2023 Akretion (<http://www.akretion.com>).
     @author KÃ©vin Roche <kevin.roche@akretion.com>
     License AGPL-3.0 or later (http://www.gnu.org/licenses/agpl). -->
<odoo>
        <record id="view_order_tree" model="ir.ui.view">
            <field name="model">sale.order</field>
            <field name="inherit_id" ref="sale.view_order_form" />
            <field name="arch" type="xml">
                <xpath
                expr="//field[@name='order_line']/tree/field[@name='product_id']"
                position="after"
            >
                    <field name="rental" invisible="1" />
                    <field name="rented_product_id" invisible="1" />

                    <field
                    name="rented_lot_id"
                    groups="stock.group_production_lot"
                    attrs="{'invisible': [('rental', '=', False)]}"
                />
                </xpath>
            </field>
        </record>
        <record id="view_order_form" model="ir.ui.view">
            <field name="model">sale.order</field>
            <field name="inherit_id" ref="sale_rental.view_order_form" />
            <field name="arch" type="xml">
                <xpath
                expr="//field[@name='order_line']/form//field[@name='product_id']"
                position="after"
            >
                    <field name="rented_product_id" invisible="1" />
                    <field name="rented_lot_id" groups="stock.group_production_lot" />
                </xpath>
            </field>
        </record>

    </odoo>
